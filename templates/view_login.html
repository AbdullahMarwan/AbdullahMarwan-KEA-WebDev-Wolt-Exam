<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="{{ url_for('static', filename='login.js') }}?v=1" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/global.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/login.css') }}"/>
    <script src="{{ url_for('static', filename='header.js') }}" defer></script>
    <title>Login</title>
  </head>
  <body>
    {% include "_header_logged-out.html" %}
    <main class="">
      <section class="">
        <div>
          <h1>Login</h1>
        </div>
        <form id="frm_user_login" class="">
          <div class="">{{ message }}</div>
          <div class="d-flex flex-col">
            <label for="user_email">E-mail</label>
            <input
              name="user_email"
              type="email"
              mix-check="{{ x.REGEX_EMAIL }}"
              required
            />

          </div>

          <!-- Nyt password-felt -->
          <div class="d-flex flex-col">
            <label for="user_password" class="d-flex">
              <span>Password</span>
              <span class="grey">
                (must be {{ x.USER_PASSWORD_MIN }} to {{ x.USER_PASSWORD_MAX }} characters)
              </span>
            </label>

            <div class="password-wrapper" style="position: relative;">
              <input
                name="user_password"
                id="password-input-login"
                type="password"
                mix-check="{{ x.REGEX_USER_PASSWORD }}"
                title="Password must be at least 8 characters long." 
                required
              />
              <span
                id="eye-icon-login"
                onclick="togglePasswordVisibility('password-input-login', 'eye-icon-login')"
                style="
                  position: absolute;
                  top: 50%;
                  right: 10px;
                  transform: translateY(-50%);
                  cursor: pointer;"
                title="Vis/skjul adgangskode"
              >
                <!-- Lukket øje som standard -->
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 4.5C7.58 4.5 4.16 7.11 2.47 10.5C4.16 13.89 7.58 16.5 12 16.5C16.42 16.5 19.84 13.89 21.53 10.5C19.84 7.11 16.42 4.5 12 4.5ZM12 12.5C10.76 12.5 9.75 11.49 9.75 10.25C9.75 9.01 10.76 8 12 8C13.24 8 14.25 9.01 14.25 10.25C14.25 11.49 13.24 12.5 12 12.5Z"
                    fill="#1C274C"
                  />
                  <path
                    d="M3.293,20.707a1,1,0,0,1,0-1.414l16-16a1,1,0,1,1,1.414,1.414l-16,16A1,1,0,0,1,3.293,20.707Z"
                    fill="#1C274C"
                  />
                </svg>
              </span>
            </div>

          </div>
          <!-- Slut på nyt password-felt -->

          <button mix-post="/login" mix-data="#frm_user_login">Login</button>
          <a href="{{url_for('view_forgot_password')}}" class="forgot_password">
            Forgot Password?
          </a>
          <a href="{{url_for('view_signup')}}" class="btn">
            Signup</a>
        </form>
      </section>
    </main>
  </body>
</html>
{% include "_bottom.html" %}